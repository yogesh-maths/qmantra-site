<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mock Test | Competitive Exams | Qmantra</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../../style.css">
</head>

<body>

<header class="site-header">
  <div class="header-inner">
    <h1>Mock Test</h1>
    <p>20 Questions • 20 Minutes • Real Exam Pattern</p>
  </div>
</header>

<nav>
  <a href="/qmantra-site/">Home</a>
  <a href="/qmantra-site/maths/">Maths</a>
  <a href="/qmantra-site/maths/mock-test/">Mock Test</a>
</nav>

<main class="page-content">

  <!-- TIMER -->
  <div id="timer" style="text-align:center;font-size:18px;font-weight:600;margin-bottom:16px;color:#4f46e5;">
    ⏱️ Time Left: <span id="time">20:00</span>
  </div>

  <div id="quiz-container"></div>

</main>

<!-- MOCK CONFIG -->
<script>
  const params = new URLSearchParams(window.location.search);
  const type = params.get("type");

  let QUIZ_DATA_URL = "";

  if (type === "maths") {
    QUIZ_DATA_URL = "./data/maths.json";
  } else if (type === "gk") {
    QUIZ_DATA_URL = "./data/gk.json";
  } else {
    alert("Invalid mock test type");
    window.location.href = "/qmantra-site/";
  }

  const IS_MOCK_TEST = true;
  const TOTAL_QUESTIONS = 20;
  const TIME_PER_QUESTION = 60;

  let totalTime = TOTAL_QUESTIONS * TIME_PER_QUESTION;

  function startTimer() {
    const timeEl = document.getElementById("time");

    setInterval(() => {
      totalTime--;

      const min = Math.floor(totalTime / 60);
      const sec = totalTime % 60;

      timeEl.textContent = `${min}:${sec < 10 ? "0" + sec : sec}`;

      if (totalTime <= 0) {
        alert("Time Over! Test Submitted.");
        location.reload(); // temporary
      }
    }, 1000);
  }
</script>

<!-- QUIZ ENGINE -->
<script src="/qmantra-site/shared/quiz.js"></script>

<footer class="site-footer">
  <p>© 2025 Qmantra™. All rights reserved.</p>
</footer>

</body>
</html>
