<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mock Test Result | Qmantra</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../../style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

<header class="site-header">
  <h1>Mock Test Result</h1>
</header>

<nav>
  <a href="./index.html">Back to Mock Tests</a>
</nav>

<main class="page-content">

  <h2 id="scoreText"></h2>

  <canvas id="resultChart" width="280" height="280"></canvas>

</main>

<script>
  const result = JSON.parse(localStorage.getItem("mockResult"));

  if (!result) {
    document.body.innerHTML = "<p>No result found</p>";
  }

  const correct = result.score;
  const wrong = result.attempted - correct;
  const skipped = result.total - result.attempted;

  document.getElementById("scoreText").innerText =
    `Score: ${correct}/${result.total} (${result.percent}%)`;

  new Chart(document.getElementById("resultChart"), {
    type: "pie",
    data: {
      labels: ["Correct", "Wrong", "Not Attempted"],
      datasets: [{
        data: [correct, wrong, skipped],
        backgroundColor: ["#22c55e", "#ef4444", "#9ca3af"]
      }]
    }
  });
</script>

</body>
</html>
